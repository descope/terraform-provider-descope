---
page_title: "descope_project Resource - descope"
subcategory: ""
description: |-
  Manages a Descope project's full configuration: authentication methods, flows, roles, permissions, connectors, applications, JWT templates, and more.
---

# descope_project (Resource)

Manages the configuration of a Descope project. A project is the core entity in Descopeâ€”it contains all authentication settings, user flows, roles, connectors, and other configuration for your application.

This resource manages _project configuration_, not users or tenants. For user management, use the [Descope Management API](https://docs.descope.com/api/openapi) or [SDKs](https://docs.descope.com).

For a full reference of all supported connectors, see the [connectors reference](https://docs.descope.com/connectors) in the Descope documentation.

## Example Usage

### Basic Project

```hcl
resource "descope_project" "example" {
  name        = "my-app"
  environment = "production"
  tags        = ["prod", "v2"]
}
```

### Authentication Methods

Enable and configure the authentication methods your users will use:

```hcl
resource "descope_project" "example" {
  name = "my-app"

  authentication = {
    # Email magic link (passwordless)
    magic_link = {
      expiration_time = "1 hour"
    }

    # Password-based login with lockout
    password = {
      lock          = true
      lock_attempts = 5
      min_length    = 12
    }

    # OTP via email or SMS
    otp = {
      expiration_time = "5 minutes"
    }

    # Passkeys (WebAuthn)
    passkeys = {
      disabled = false
    }
  }
}
```

### Roles and Permissions (RBAC)

Define roles and permissions for your users:

```hcl
resource "descope_project" "example" {
  name = "my-app"

  authorization = {
    permissions = [
      { name = "read:data",   description = "Read access to application data" },
      { name = "write:data",  description = "Write access to application data" },
      { name = "admin:panel", description = "Access to the admin panel" },
    ]

    roles = [
      {
        name        = "viewer"
        description = "Can read data"
        permissions = ["read:data"]
      },
      {
        name        = "editor"
        description = "Can read and write data"
        permissions = ["read:data", "write:data"]
      },
      {
        name        = "admin"
        description = "Full access"
        permissions = ["read:data", "write:data", "admin:panel"]
      },
    ]
  }
}
```

### Connectors

Integrate with third-party services to enrich flows and send notifications:

```hcl
resource "descope_project" "example" {
  name = "my-app"

  connectors = {
    # Generic HTTP webhook with bearer token auth
    http = [{
      name        = "User Eligibility Check"
      description = "Checks if a new user is allowed to register"
      base_url    = "https://api.example.com"
      authentication = {
        bearer_token = var.webhook_secret
      }
    }]

    # SendGrid for email delivery
    sendgrid = [{
      name = "Transactional Email"
      sender = {
        email = "noreply@example.com"
        name  = "My App"
      }
      authentication = {
        api_key = var.sendgrid_api_key
      }
    }]

    # Twilio for SMS OTP
    twilio_core = [{
      name        = "SMS OTP"
      account_sid = var.twilio_account_sid
      senders = {
        sms = {
          phone_number = "+15551234567"
        }
      }
      authentication = {
        auth_token = var.twilio_auth_token
      }
    }]
  }
}
```

### Flows and Styles

Load a custom authentication flow from a JSON file (exported from the Descope console):

```hcl
resource "descope_project" "example" {
  name = "my-app"

  flows = {
    "sign-up-or-in" = {
      data = file("${path.module}/flows/sign-up-or-in.json")
    }
    "forgot-password" = {
      data = file("${path.module}/flows/forgot-password.json")
    }
  }

  styles = {
    data = file("${path.module}/flows/styles.json")
  }
}
```

### Session Settings

Configure token lifetimes and session behavior:

```hcl
resource "descope_project" "example" {
  name = "my-app"

  project_settings = {
    refresh_token_expiration     = "3 weeks"
    session_token_expiration     = "15 minutes"
    refresh_token_rotation       = true
    enable_inactivity            = true
    inactivity_time              = "30 minutes"
    custom_domain                = "auth.example.com"
    approved_domains             = ["example.com", "app.example.com"]
  }
}
```

### OIDC Applications

Register an OIDC application for SSO:

```hcl
resource "descope_project" "example" {
  name = "my-app"

  applications = {
    oidc_applications = [
      {
        name          = "My Web App"
        description   = "Primary web application"
        login_page_url = "https://app.example.com/login"
      }
    ]
  }
}
```

### JWT Templates

Customize the JWT claims added to session tokens:

```hcl
resource "descope_project" "example" {
  name = "my-app"

  jwt_templates = {
    user_templates = [
      {
        name        = "app-claims"
        description = "Adds subscription tier and org context to user JWTs"
        template    = jsonencode({
          tier   = "@user.customAttributes.subscriptionTier"
          org_id = "@user.tenants[0].tenantId"
        })

        # Exclude the permissions claim to keep tokens lean
        exclude_permission_claim = true

        # Add a unique JWT ID for replay attack prevention
        add_jti_claim = true

        # Move the user ID to a new dsub claim, allowing sub to be customized
        override_subject_claim = true
      }
    ]
  }

  project_settings = {
    user_jwt_template = "app-claims"
  }
}
```

### SSO Settings

Configure global settings for Single Sign-On across tenants:

```hcl
resource "descope_project" "example" {
  name = "my-app"

  authentication = {
    sso = {
      # Merge SSO users with existing accounts of the same email
      merge_users = true

      # Allow SSO roles to override a user's existing roles
      allow_override_roles = true

      # Prioritize group-based role mappings over direct role assignments
      groups_priority = true

      # Enforce that SSO domains are always specified
      require_sso_domains = true

      # Require a groups attribute name in SSO configuration
      require_groups_attribute_name = true

      # Define required Descope attributes when receiving SSO information
      mandatory_user_attributes = [
        { id = "email" },
        { id = "name" },
        { id = "department", custom = true },
      ]

      # Configure the SSO Suite portal appearance
      sso_suite_settings = {
        style_id    = "my-brand-style"
        hide_scim   = false
        hide_saml   = false
        hide_oidc   = false
      }
    }
  }
}
```


{{ .SchemaMarkdown }}
